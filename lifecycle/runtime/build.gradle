import android.support.LibraryGroups
import android.support.LibraryVersions
import android.support.SupportLibraryExtension

plugins {
    id("SupportAndroidLibraryPlugin")
}

android {
    defaultConfig {
        minSdkVersion flatfoot.min_sdk
    }

    buildTypes.all {
        consumerProguardFiles 'proguard-rules.pro'
    }

    testOptions {
        unitTests.returnDefaultValues = true
    }
}

dependencies {
    compile project(":lifecycle:common")
    compile project(":arch:common")
    // necessary for IJ to resolve dependencies.
    compile libs.support.annotations

    testCompile libs.junit
    testCompile libs.mockito_core

    androidTestImplementation libs.junit
    androidTestImplementation libs.test_runner,      { exclude module: 'support-annotations' }
}

createAndroidCheckstyle(project)

version = LibraryVersions.LIFECYCLES_RUNTIME.toString()
supportLibrary {
    name 'Android Lifecycle Runtime'
    publish true
    mavenGroup LibraryGroups.LIFECYCLE
    inceptionYear '2017'
    description "Android Lifecycle Runtime"
    url SupportLibraryExtension.ARCHITECTURE_URL
}